(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{"6b221bb40e723c2e2b3b":function(e,t,a){"use strict";a.r(t);var n,r=a("8af190b70a6bc55c6f1b"),o=a.n(r),s=(a("8a2d1b95e05b6a321e74"),a("d7dd51e1bf6bfc2c9c3d")),i=a("a28fc3c963a1d4d1a2e5"),c=a("d00d7890ac59fd19b20f"),l=a("6542cd13fd5dd1bcffd4"),d=a("adc20f99e57c573c589c"),u=a("d95b0cf107403b178365"),f=a("ab4cb61bcb2dc161defb"),p=a("e95a63b25fb92ed15721"),m=a("6b20a4038fb2adfb033d"),h=a("f474c75d9da68c034eae"),b=a("da310028ba2a28510514"),y=a("35a24e2eab80b90da161"),g=a("0a44d9aa061b3ae2063b"),v=a("ba6222ad0f1a8355d8c6");a("f85e09def79cc2a20bc2");function O(e,t,a,r){n||(n="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={children:void 0}),1===s)t.children=r;else if(s>1){for(var i=new Array(s),c=0;c<s;c++)i[c]=arguments[c+3];t.children=i}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var w,S=O("label",{},void 0,"Testimonial Category"),k=O("label",{},void 0,"Name"),_=O("label",{},void 0,O("strong",{},void 0,"Testimonials Message")),j=O(y.a,{module:"testimonials"}),C=function(e){var t=e.data,a=e.errors,n=e.handleChange,r=e.handleEditorChange,o=e.handleSubmit,s=e.handleChecked,i=e.onDrop,c=e.image,l=e.urlAction;e.parseDate,e.categories,e.handleTagAddition,e.keywordsOptions,e.handleKeywords,e.handleKeywordAddition,e.tagOptions,e.handleTags,e.handleRadioCheck,e.handlePublishDateChange;return O(m.a,{},void 0,O(m.a.Field,{error:!!a.testimonial_category},void 0,S,O("input",{type:"text",name:"testimonial_category",value:t.testimonial_category||"",onChange:n}),a.name&&O("span",{},void 0,a.name)),O(m.a.Field,{error:!!a.name},void 0,k,O("input",{type:"text",name:"name",value:t.name||"",onChange:n}),a.name&&O("span",{},void 0,a.name)),O(m.a.Field,{},void 0,_,O(g.a,{data:t.message,handleEditorChange:r,urlAction:l}),a.message&&O("span",{style:{color:"red"}},void 0,a.message),j),O(v.a,{file:c&&c||{},image:t.image_name&&t.image_name.document_name||{},onDrop:i}),a.image&&O("span",{style:{color:"red"}},void 0,a.image),O(m.a.Field,{},void 0,O(h.a,{onChange:s,checked:t.active||!1,label:"Active",name:"active"})),O(b.a,{className:"button primary",loading:e.isRequesting,disabled:e.isRequesting,onClick:o},void 0,"Submit"))},R=a("25995a7ae5cc79b4f4a4"),D=a.n(R),A=a("4f0dfcf9dfa819c812e6"),P=a("013dc4753778ae45e134"),T=a("741da029de80d71a72db"),E=a("27f5bc3a67bc123a0c2b"),I=a("5787e871c32c12eaa0cf");function q(e){return(q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t,a,n){w||(w="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=n;else if(o>1){for(var s=new Array(o),i=0;i<o;i++)s[i]=arguments[i+3];t.children=s}if(t&&r)for(var c in r)void 0===t[c]&&(t[c]=r[c]);else t||(t=r||{});return{$$typeof:w,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function M(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){W(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function F(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=L(e);if(t){var r=L(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return z(this,a)}}function z(e,t){return!t||"object"!==q(t)&&"function"!==typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var G=Object(i.b)({isSuccess:Object(I.f)(),isRequesting:Object(I.d)(),successResponse:Object(I.e)(),errorResponse:Object(I.b)(),testimonialsById:Object(I.c)(),categories:Object(I.a)(),user:Object(l.c)()}),H=B("div",{className:"pb-3"},void 0,B(p.Link,{className:"ui vertical animated button primary",to:"/admin/dashboard/testimonials",role:"button"},void 0,B("div",{className:"hidden content"},void 0,"Back"),B("div",{className:"visible content"},void 0,B("i",{"aria-hidden":"true",className:"left arrow icon"})))),Q=B("h1",{className:"main__title"},void 0,"Testimonials Form"),V=B("br",{}),X=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(s,e);var t,a,n,r=$(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),W(U(t=r.call(this,e)),"state",{data:{tags:[],meta_keywords:["testimonials"],meta_description:"testimonials",active:!1,custom_url_slug:!1},errors:{},image:{},tags:[],keywords:[],tagOptions:[],keywordsOptions:[]}),W(U(t),"onDrop",(function(e){var a=t.state.errors;e&&(delete a.image,(e=e[0]).preview=URL.createObjectURL(e),t.setState({image:e}))})),W(U(t),"handleChange",(function(e){delete t.state.errors[e.target.name],t.setState({data:K(K({},t.state.data),{},W({},e.target.name,e.target.value))})})),W(U(t),"handleEditorChange",(function(e){var a=t.state.errors;a.message&&e.target.getContent()&&delete a.message,t.setState({data:K(K({},t.state.data),{},{message:e.target.getContent()})})})),W(U(t),"handleRadioCheck",(function(e,a){var n=a.value;t.setState({data:K(K({},t.state.data),{},{category_title:n})})})),W(U(t),"handleChecked",(function(e,a){t.setState((function(e){return{data:K(K({},e.data),{},W({},a.name,!e.data[a.name]))}}),(function(){"custom_url_slug"!=a.name||t.state.custom_url_slug||t.setState({data:K(K({},t.state.data),{},{slug:""})})}))})),W(U(t),"parseDate",(function(e){return Object(A.a)(e).format()})),W(U(t),"handlePublishDateChange",(function(e,a){t.setState({data:K(K({},t.state.data),{},W({},e,t.parseDate(a)))})})),W(U(t),"handleSubmit",(function(e){e.preventDefault();var a=t.validate();if(t.setState({errors:a}),0===Object.keys(a).length){var n=t.props.match.params.testimonials_id?t.props.match.params.testimonials_id:null,r=t.state.data;if(r.custom_url_slug||r.slug||(r.slug=D()(r.name)),n){var o=t.state.data;t.props.updateTestimonialsByIdRequest(o,n,t.state.image)}else{var s=t.state.data;t.props.postTestimonialsRequest(s,t.state.image)}}})),W(U(t),"validate",(function(){var e=t.state.data,a={};return e.testimonial_category||(a.testimonial_category="Testimonial category can't be blank"),e.name||(a.name="Name can't be blank"),e.message||(a.message="Description Can't be blank"),a})),W(U(t),"handleTags",(function(e,a){var n=a.value,r=t.state.errors;r.tags&&n&&delete r.tags,t.setState({tags:[]}),n.forEach((function(e){t.setState({tags:[].concat(M(t.state.tags),[{tag_title:e,url_slog_tag:D()(e)}])})})),t.setState({data:K(K({},t.state.data),{},{tags:n})})})),W(U(t),"handleKeywords",(function(e,a){var n=a.value,r=t.state.errors;r.meta_keywords&&n&&delete r.meta_keywords,t.setState({keywords:[]}),n.forEach((function(e){t.setState({keywords:[].concat(M(t.state.keywords),[{keyword_title:e,url_slog_keyword:D()(e)}])})})),t.setState({data:K(K({},t.state.data),{},{meta_keywords:n})})})),W(U(t),"handleTagAddition",(function(e,a){var n=a.value;t.setState({tagOptions:[{text:n,value:n}].concat(M(t.state.tagOptions))})})),W(U(t),"handleKeywordAddition",(function(e,a){var n=a.value;t.setState({keywordsOptions:[{text:n,value:n}].concat(M(t.state.keywordsOptions))})})),t}return t=s,(a=[{key:"componentWillMount",value:function(){var e=this.props.match.path;e=e.split("/");var t=this.props.user&&this.props.user.size>0?this.props.user.toJS().role:"";this.setState({urlAction:e[4],userRole:t})}},{key:"componentDidMount",value:function(){var e=this.state,t=(e.page,e.perPage,e.query,this.props.match.params.testimonials_id?this.props.match.params.testimonials_id:null);t&&this.props.getTestimonialsByIdRequest(t)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.testimonialsById!==this.props.testimonialsById&&e.testimonialsById.size>0&&this.setState((function(t){return{data:e.testimonialsById?e.testimonialsById.toJS():{}}}),(function(){var e=[];t.state.data&&t.state.data.tags&&t.state.data.tags.map((function(t){e.push({key:t,value:t,text:t})})),t.setState({tagOptions:e});var a=[];t.state.data&&t.state.data.meta_keywords&&t.state.data.meta_keywords.map((function(e){a.push({key:e,value:e,text:e})})),t.setState({keywordsOptions:a})}))}},{key:"componentWillUnmount",value:function(){this.props.clearMessage()}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.errors,n=e.image,r=e.urlAction,s=e.userRole,i=e.category,l=e.tagOptions,d=e.keywordsOptions,u=this.props,f=u.successResponse,p=u.errorResponse;return B(o.a.Fragment,{},void 0,H,Q,V,f&&f.size>0&&f.toJS().map((function(e,t){return B(c.a,{successMessage:Object.values(e)[0],type:"success"},"info".concat(t))})),"string"===typeof p&&B(c.a,{errorMessage:p,type:"danger"}),p&&p.size>0&&p.toJS().map((function(e,t){return B(c.a,{errorMessage:Object.values(e)[0],type:"danger"},"list".concat(t))})),B(C,{errors:a,data:t,handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleChecked:this.handleChecked,isRequesting:this.props.isRequesting,onDrop:this.onDrop,image:n,urlAction:r,handleRadioCheck:this.handleRadioCheck,categories:i,handleKeywords:this.handleKeywords,handleKeywordAddition:this.handleKeywordAddition,keywordsOptions:d,handleTags:this.handleTags,handleTagAddition:this.handleTagAddition,tagOptions:l,handleDropDownChange:this.handleDropDownChange,handleEditorChange:this.handleEditorChange,handleStatusDrop:this.handleStatusDrop,userRole:s,handlePublishDateChange:this.handlePublishDateChange,parseDate:this.parseDate}))}}])&&F(t.prototype,a),n&&F(t,n),s}(o.a.Component),Y=Object(u.a)({key:"testimonialsCreate",reducer:T.a}),Z=Object(d.a)({key:"testimonialsCreate",saga:P.a}),ee=Object(s.connect)(G,(function(e){return{postTestimonialsRequest:function(t,a){return e(Object(E.i)(t,a))},getTestimonialsByIdRequest:function(t){return e(Object(E.c)(t))},updateTestimonialsByIdRequest:function(t,a,n){return e(Object(E.l)(t,a,n))},loadCategories:function(t,a,n){return e(Object(E.f)(t,a,n))},clearMessage:function(){return e(Object(E.a)())}}}));t.default=Object(f.compose)(Y,Z,ee)(X)}}]);