(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{"58c3dd0a2230c2620ee3":function(e,t,a){"use strict";a.r(t);var r,o=a("8af190b70a6bc55c6f1b"),n=a.n(o),s=(a("8a2d1b95e05b6a321e74"),a("d7dd51e1bf6bfc2c9c3d")),i=a("a28fc3c963a1d4d1a2e5"),d=a("d00d7890ac59fd19b20f"),c=a("6542cd13fd5dd1bcffd4"),l=a("adc20f99e57c573c589c"),u=a("d95b0cf107403b178365"),p=a("ab4cb61bcb2dc161defb"),g=a("e95a63b25fb92ed15721"),f=a("6b20a4038fb2adfb033d"),b=a("b57570cc703435a24b60"),m=a("f474c75d9da68c034eae"),h=a("e1074860633bf61d61c3"),y=a("da310028ba2a28510514"),v=a("35a24e2eab80b90da161"),_=a("0a44d9aa061b3ae2063b"),w=a("ba6222ad0f1a8355d8c6");a("f85e09def79cc2a20bc2");function C(e,t,a,o){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={children:void 0}),1===s)t.children=o;else if(s>1){for(var i=new Array(s),d=0;d<s;d++)i[d]=arguments[d+3];t.children=i}if(t&&n)for(var c in n)void 0===t[c]&&(t[c]=n[c]);else t||(t=n||{});return{$$typeof:r,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var O,k=C("label",{},void 0,C("strong",{},void 0,"Program Category")),S=C("label",{},void 0,"Programs Title"),j=C("label",{},void 0,"Slug"),P=C("label",{},void 0,C("strong",{},void 0,"Excerpt")),D=C("label",{},void 0,"Credit Hours"),R=C("label",{},void 0,"Number of subjects"),A=C("label",{},void 0,C("strong",{},void 0,"Meta Keywords")),q=C("label",{},void 0,C("strong",{},void 0,"Meta Description")),x=C("label",{},void 0,"Tags"),I=C("label",{},void 0,C("strong",{},void 0,"Programs Body")),E=C(v.a,{module:"programs"}),F=function(e){var t=e.data,a=e.errors,r=e.handleChange,o=e.handleEditorChange,n=e.handleSubmit,s=e.handleChecked,i=e.onDrop,d=e.image,c=e.urlAction,l=(e.parseDate,e.categories,e.handleTagAddition),u=e.keywordsOptions,p=e.programsCategoriesDropdown,g=e.handleKeywords,v=e.handleKeywordAddition,O=e.tagOptions,F=e.handleTags,T=(e.handleRadioCheck,e.handlePublishDateChange,e.handleProgramCategory);return C(f.a,{},void 0,C(f.a.Field,{error:!!a.category_id},void 0,k,C(b.a,{placeholder:"Select Program Category",options:p,search:!0,selection:!0,allowAdditions:!0,onChange:T,value:t.category_id?t.category_id:"",required:!0})),C(f.a.Field,{error:!!a.title},void 0,S,C("input",{type:"text",name:"title",value:t.title||"",onChange:r}),a.title&&C("span",{},void 0,a.title)),C(f.a.Field,{error:!!a.custom_url_slug},void 0,C(m.a,{name:"custom_url_slug",onChange:s,checked:t.custom_url_slug||!1,label:"Custom Slug"})),t.custom_url_slug&&C(f.a.Field,{error:!!a.slug},void 0,j,C("input",{type:"text",name:"slug",value:t.slug||"",onChange:r}),a.slug&&C("span",{},void 0,a.slug)),C(f.a.Field,{error:!!a.excerpt},void 0,P,C(h.a,{name:"excerpt",value:t.excerpt||"",onChange:r,rows:8})),C(f.a.Field,{error:!!a.credit_hours},void 0,D,C("input",{type:"number",min:"0",name:"credit_hours",value:t.credit_hours||"",onChange:r}),a.credit_hours&&C("span",{},void 0,a.credit_hours)),C(f.a.Field,{error:!!a.number_subjects},void 0,R,C("input",{type:"number",min:"0",name:"number_subjects",value:t.number_subjects||"",onChange:r}),a.number_subjects&&C("span",{},void 0,a.number_subjects)),C(f.a.Field,{error:!!a.meta_keywords},void 0,A,C(b.a,{placeholder:"Select Keyword",options:u,multiple:!0,search:!0,selection:!0,allowAdditions:!0,onAddItem:v,onChange:g,value:t.meta_keywords?t.meta_keywords:[],required:!0})),C(f.a.Field,{error:!!a.meta_description},void 0,q,C(h.a,{name:"meta_description",value:t.meta_description||"",onChange:r})),C(f.a.Field,{error:!!a.tags},void 0,x,C(b.a,{options:O,multiple:!0,search:!0,selection:!0,allowAdditions:!0,onAddItem:l,onChange:F,value:t.tags||[],required:!0})),C(f.a.Field,{},void 0,I,C(_.a,{data:t.body,handleEditorChange:o,urlAction:c}),a.body&&C("span",{style:{color:"red"}},void 0,a.body),E),C(w.a,{file:d&&d||{},image:t.image_name&&t.image_name.document_name||{},onDrop:i}),a.image&&C("span",{style:{color:"red"}},void 0,a.image),C(f.a.Field,{},void 0,C(m.a,{onChange:s,checked:t.active||!1,label:"Active",name:"active"})),C(y.a,{className:"button primary",loading:e.isRequesting,disabled:e.isRequesting,onClick:n},void 0,"Submit"))},T=a("25995a7ae5cc79b4f4a4"),B=a.n(T),K=a("4f0dfcf9dfa819c812e6"),M=a("11e40ee95fe47225d99a"),N=a("ca36ae27e85561b3fb65"),J=a("8bb5ff6bf08eca090a11"),z=a("f6d978ca5f753b827183");function $(e){return($="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t,a,r){O||(O="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,n=arguments.length-3;if(t||0===n||(t={children:void 0}),1===n)t.children=r;else if(n>1){for(var s=new Array(n),i=0;i<n;i++)s[i]=arguments[i+3];t.children=s}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:O,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function L(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return W(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(Object(a),!0).forEach((function(t){te(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Q(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=ee(e);if(t){var o=ee(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Y(this,a)}}function Y(e,t){return!t||"object"!==$(t)&&"function"!==typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ae=Object(i.b)({isSuccess:Object(z.g)(),isRequesting:Object(z.e)(),successResponse:Object(z.f)(),errorResponse:Object(z.b)(),programsById:Object(z.c)(),categories:Object(z.a)(),user:Object(c.c)(),programsCategories:Object(z.d)()}),re=U("div",{className:"pb-3"},void 0,U(g.Link,{className:"ui vertical animated button primary",to:"/admin/dashboard/programs",role:"button"},void 0,U("div",{className:"hidden content"},void 0,"Back"),U("div",{className:"visible content"},void 0,U("i",{"aria-hidden":"true",className:"left arrow icon"})))),oe=U("h1",{className:"main__title"},void 0,"Programs Form"),ne=U("br",{}),se=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(s,e);var t,a,r,o=X(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),te(Z(t=o.call(this,e)),"state",{data:{tags:[],meta_keywords:[],meta_description:"",active:!1,custom_url_slug:!1},errors:{},image:{},tags:[],keywords:[],tagOptions:[],keywordsOptions:[],programsCategoriesDropdown:[]}),te(Z(t),"onDrop",(function(e){var a=t.state.errors;e&&(delete a.image,(e=e[0]).preview=URL.createObjectURL(e),t.setState({image:e}))})),te(Z(t),"handleChange",(function(e){delete t.state.errors[e.target.name],t.setState({data:G(G({},t.state.data),{},te({},e.target.name,e.target.value))})})),te(Z(t),"handleEditorChange",(function(e){var a=t.state.errors;a.body&&e.target.getContent()&&delete a.body,t.setState({data:G(G({},t.state.data),{},{body:e.target.getContent()})})})),te(Z(t),"handleRadioCheck",(function(e,a){var r=a.value;t.setState({data:G(G({},t.state.data),{},{category_title:r})})})),te(Z(t),"handleChecked",(function(e,a){t.setState((function(e){return{data:G(G({},e.data),{},te({},a.name,!e.data[a.name]))}}),(function(){"custom_url_slug"!=a.name||t.state.custom_url_slug||t.setState({data:G(G({},t.state.data),{},{slug:""})})}))})),te(Z(t),"parseDate",(function(e){return Object(K.a)(e).format()})),te(Z(t),"handlePublishDateChange",(function(e,a){t.setState({data:G(G({},t.state.data),{},te({},e,t.parseDate(a)))})})),te(Z(t),"handleSubmit",(function(e){e.preventDefault();var a=t.validate();if(t.setState({errors:a}),0===Object.keys(a).length){var r=t.props.match.params.programs_id?t.props.match.params.programs_id:null,o=t.state.data;if(o.custom_url_slug||o.slug||(o.slug=B()(o.title)),r){var n=t.state.data;t.props.updateProgramsByIdRequest(n,r,t.state.image)}else{var s=t.state.data;t.props.postProgramsRequest(s,t.state.image)}}})),te(Z(t),"validate",(function(){var e=t.state.data,a={};return e.title||(a.title="Title can't be blank"),e.credit_hours||(a.credit_hours="Credit hours can't be blank"),e.number_subjects||(a.number_subjects="Number of subjects can't be blank"),e.body||(a.body="Description Can't be blank"),e.meta_description||(a.meta_description="Can't be blank"),e.excerpt||(a.excerpt="Can't be blank"),e.meta_keywords&&0!=e.meta_keywords.length||(a.meta_keywords="Can't be blank"),e.category_id&&0!=e.category_id.length||(a.category_id="Can't be blank"),a})),te(Z(t),"handleTags",(function(e,a){var r=a.value,o=t.state.errors;o.tags&&r&&delete o.tags,t.setState({tags:[]}),r.forEach((function(e){t.setState({tags:[].concat(L(t.state.tags),[{tag_title:e,url_slog_tag:B()(e)}])})})),t.setState({data:G(G({},t.state.data),{},{tags:r})})})),te(Z(t),"handleKeywords",(function(e,a){var r=a.value,o=t.state.errors;o.meta_keywords&&r&&delete o.meta_keywords,t.setState({keywords:[]}),r.forEach((function(e){t.setState({keywords:[].concat(L(t.state.keywords),[{keyword_title:e,url_slog_keyword:B()(e)}])})})),t.setState({data:G(G({},t.state.data),{},{meta_keywords:r})})})),te(Z(t),"handleProgramCategory",(function(e,a){var r=a.value,o=t.state.errors;o.category_id&&r&&delete o.category_id,t.setState({category_id:[]}),t.setState({data:G(G({},t.state.data),{},{category_id:r})})})),te(Z(t),"handleTagAddition",(function(e,a){var r=a.value;t.setState({tagOptions:[{text:r,value:r}].concat(L(t.state.tagOptions))})})),te(Z(t),"handleKeywordAddition",(function(e,a){var r=a.value;t.setState({keywordsOptions:[{text:r,value:r}].concat(L(t.state.keywordsOptions))})})),t}return t=s,(a=[{key:"componentWillMount",value:function(){var e=this.props.match.path;e=e.split("/");var t=this.props.user&&this.props.user.size>0?this.props.user.toJS().role:"";this.setState({urlAction:e[4],userRole:t})}},{key:"componentDidMount",value:function(){var e=this.state,t=(e.page,e.perPage,e.query,this.props.match.params.programs_id?this.props.match.params.programs_id:null);t&&this.props.getProgramsByIdRequest(t),this.props.getProgramsCategoryRequest()}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.programsCategories!==this.props.programsCategories&&e.programsCategories.size>0){var a=e.programsCategories&&e.programsCategories.toJS().map((function(e,t){return{key:e._id,value:e._id,text:e.category_title}}));this.setState({programsCategoriesDropdown:a})}e.programsById!==this.props.programsById&&e.programsById.size>0&&this.setState((function(t){return{data:e.programsById?e.programsById.toJS():{}}}),(function(){var e=[];t.state.data&&t.state.data.tags&&t.state.data.tags.map((function(t){e.push({key:t,value:t,text:t})})),t.setState({tagOptions:e});var a=[];t.state.data&&t.state.data.meta_keywords&&t.state.data.meta_keywords.map((function(e){a.push({key:e,value:e,text:e})})),t.setState({keywordsOptions:a})}))}},{key:"componentWillUnmount",value:function(){this.props.clearMessage()}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.errors,r=e.image,o=e.urlAction,s=e.userRole,i=e.category,c=e.tagOptions,l=e.keywordsOptions,u=e.programsCategoriesDropdown,p=this.props,g=p.successResponse,f=p.errorResponse;return U(n.a.Fragment,{},void 0,re,oe,ne,g&&g.size>0&&g.toJS().map((function(e,t){return U(d.a,{successMessage:Object.values(e)[0],type:"success"},"info".concat(t))})),"string"===typeof f&&U(d.a,{errorMessage:f,type:"danger"}),f&&f.size>0&&f.toJS().map((function(e,t){return U(d.a,{errorMessage:Object.values(e)[0],type:"danger"},"list".concat(t))})),U(F,{errors:a,data:t,handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleChecked:this.handleChecked,isRequesting:this.props.isRequesting,onDrop:this.onDrop,image:r,urlAction:o,handleRadioCheck:this.handleRadioCheck,categories:i,handleKeywords:this.handleKeywords,handleKeywordAddition:this.handleKeywordAddition,keywordsOptions:l,programsCategoriesDropdown:u,handleTags:this.handleTags,handleTagAddition:this.handleTagAddition,tagOptions:c,handleDropDownChange:this.handleDropDownChange,handleEditorChange:this.handleEditorChange,handleStatusDrop:this.handleStatusDrop,userRole:s,handlePublishDateChange:this.handlePublishDateChange,parseDate:this.parseDate,handleProgramCategory:this.handleProgramCategory}))}}])&&Q(t.prototype,a),r&&Q(t,r),s}(n.a.Component),ie=Object(u.a)({key:"programsCreate",reducer:N.a}),de=Object(l.a)({key:"programsCreate",saga:M.a}),ce=Object(s.connect)(ae,(function(e){return{postProgramsRequest:function(t,a){return e(Object(J.l)(t,a))},getProgramsByIdRequest:function(t){return e(Object(J.c)(t))},updateProgramsByIdRequest:function(t,a,r){return e(Object(J.o)(t,a,r))},loadCategories:function(t,a,r){return e(Object(J.i)(t,a,r))},getProgramsCategoryRequest:function(){return e(Object(J.f)())},clearMessage:function(){return e(Object(J.a)())}}}));t.default=Object(p.compose)(ie,de,ce)(se)}}]);