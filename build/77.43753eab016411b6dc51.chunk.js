(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{"9117a046e1edb98ff654":function(e,t,a){"use strict";a.r(t);var r,n=a("8af190b70a6bc55c6f1b"),o=a.n(n),i=(a("8a2d1b95e05b6a321e74"),a("d7dd51e1bf6bfc2c9c3d")),s=a("a28fc3c963a1d4d1a2e5"),c=a("df4d709115ae1aca60ef"),l=a("dbbfd446e021e07e4135"),d=a("4bbea3859a8f8ac6e267"),u=a("adc20f99e57c573c589c"),f=a("d95b0cf107403b178365"),p=a("ab4cb61bcb2dc161defb"),b=a("25995a7ae5cc79b4f4a4"),m=a.n(b),g=a("d67d1aaf12df3d0678f7"),y=a("5808cd52a57c4af7437b"),h=a("6b20a4038fb2adfb033d"),v=a("b57570cc703435a24b60"),O=a("2a75d1bf8961d1e9e83c"),C=a("40d87d883632f6045fac"),w=a("f474c75d9da68c034eae"),_=a("da310028ba2a28510514"),S=(a("9683455beae561750395"),a("f2619478499dd4aef310")),j=(a("fcb99a06256635f70435"),a("0a44d9aa061b3ae2063b")),k=a("35a24e2eab80b90da161"),P=a("ba6222ad0f1a8355d8c6");a("aee923c66bac202f8218"),a("54f683fcda7806277002");function A(e,t,a,n){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var s=new Array(i),c=0;c<i;c++)s[c]=arguments[c+3];t.children=s}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}var R,M=A("label",{},void 0,A("strong",{},void 0,"Program Category")),D=A("label",{},void 0,"Title"),q=A("label",{},void 0,"Page Excerpt"),x=A("label",{},void 0,"Template Content "),E=A(k.a,{module:"html-template"}),V=A("label",{},void 0,"Main Image"),K=A("label",{},void 0,"Image Caption"),I=function(e){var t=e.data,a=e.errors,r=e.handleSubmit,n=e.handleChange,o=e.handleEditorChange,i=e.handleActiveChecked,s=e.urlAction,c=e.file,l=e.onDrop,d=e.programsCategoriesDropdown,u=e.handleProgramCategory;e.handleMetaKeywords,e.handleKeywordsAddition,e.metaOptions;return A(h.a,{},void 0,A(h.a.Field,{error:!!a.category_id},void 0,M,A(v.a,{placeholder:"Select Program Category",options:d,search:!0,selection:!0,allowAdditions:!0,onChange:u,value:t.category_id?t.category_id:"",required:!0})),A(h.a.Field,{error:!!a.title},void 0,D,A(O.a,{type:"text",name:"title",value:t.title||"",onChange:n}),a.title&&A("span",{},void 0,a.title)),A(C.a,{},void 0,q,A(S.a,{type:"text",name:"page_excerpt",value:t.page_excerpt||"",onChange:n})),A(h.a.Field,{error:!!a.template_content},void 0,x,A(j.a,{data:t.template_content,handleEditorChange:o,urlAction:s}),a.template_content&&A("span",{},void 0,a.template_content)),E,A(h.a.Field,{},void 0,V,A(P.a,{file:c&&c||{},image:t.image&&t.image||{},onDrop:l})),A(h.a.Field,{error:!!a.img_caption},void 0,K,A(O.a,{type:"text",name:"img_caption",value:t.img_caption||"",onChange:n}),a.img_caption&&A("span",{},void 0,a.img_caption)),A(C.a,{},void 0,A(w.a,{type:"checkbox",className:"custom-control-input",onChange:i,checked:t.active||!1,label:"Active"})),A(_.a,{className:"button primary",loading:e.isRequesting,disabled:e.isRequesting,onClick:r},void 0,"Submit"))},L=a("e95a63b25fb92ed15721");function F(e){return(F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t,a,r){R||(R="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var i=new Array(o),s=0;s<o;s++)i[s]=arguments[s+3];t.children=i}if(t&&n)for(var c in n)void 0===t[c]&&(t[c]=n[c]);else t||(t=n||{});return{$$typeof:R,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function $(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return J(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return J(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){Y(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=X(e);if(t){var n=X(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return H(this,a)}}function H(e,t){return!t||"object"!==F(t)&&"function"!==typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Z=Object(s.b)({success:Object(y.g)(),requesting:Object(y.d)(),successResponse:Object(y.e)(),errorResponse:Object(y.b)(),singleContent:Object(y.f)(),programsCategories:Object(y.c)()}),ee=T("title",{},void 0,"Mission and Vision"),te=T(L.Link,{className:"ui button primary",to:"/admin/dashboard/mission-vision"},void 0,"<-Back"),ae=T("h1",{},void 0,"Mission and Vision"),re=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(o,e);var t,a,r,n=G(o);function o(){var e;U(this,o);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return Y(Q(e=n.call.apply(n,[this].concat(a))),"state",{data:{active:!1},errors:{},roleModule:{},moduleList:[],file:[],metaOptions:[],programsCategoriesDropdown:[]}),Y(Q(e),"handleActiveChecked",(function(){return e.setState({data:N(N({},e.state.data),{},{active:!e.state.data.active})})})),Y(Q(e),"handleChange",(function(t){var a=e.state.errors;a[t.target.name]&&t.target.value&&delete a[t.target.name],e.setState({data:N(N({},e.state.data),{},Y({},t.target.name,t.target.value))})})),Y(Q(e),"handleEditorChange",(function(t){var a=e.state.errors;a.template_content&&delete a.template_content,e.setState({data:N(N({},e.state.data),{},{template_content:t.target.getContent()})})})),Y(Q(e),"handleSubmit",(function(t){t.preventDefault();var a=e.validate();if(e.setState({errors:a}),0===Object.keys(a).length){var r=e.state.data;r.slug=m()(r.title);var n=e.props.match.params.id?e.props.match.params.id:null;if(n){var o=e.state.data;e.props.updateMissionVisionRequest(o,e.state.file,n)}else{var i=e.state.data;e.props.postMissionVisionRequest(i,e.state.file)}}})),Y(Q(e),"validate",(function(){var t=e.state,a=t.data,r=t.file,n={};return a.title||(n.title="Can't be blank"),a.template_content||(n.template_content="Can't be blank"),r.name&&!a.img_caption&&(n.img_caption="Can't be blank"),n})),Y(Q(e),"onDrop",(function(t){t&&((t=t[0]).preview=URL.createObjectURL(t),e.setState({file:t},(function(){e.setState({data:N(N({},e.state.data),{},{image_title:e.state.file.name})})})))})),Y(Q(e),"handleMetaKeywords",(function(t,a){var r=a.value;e.setState({meta_keywords:[]}),e.setState({data:N(N({},e.state.data),{},{meta_keywords:r})})})),Y(Q(e),"handleKeywordsAddition",(function(t,a){var r=a.value;e.setState({metaOptions:[{text:r,value:r}].concat($(e.state.metaOptions))})})),Y(Q(e),"handleProgramCategory",(function(t,a){var r=a.value,n=e.state.errors;n.category_id&&r&&delete n.category_id,e.setState({category_id:[]}),e.setState({data:N(N({},e.state.data),{},{category_id:r})})})),e}return t=o,(a=[{key:"componentWillMount",value:function(){var e=this.props.match.path;e=e.split("/"),this.setState({urlAction:e[4]}),this.props.clearMessage()}},{key:"componentDidMount",value:function(){var e=this.props.match.params.id?this.props.match.params.id:null;e&&this.props.loadMissionVisionByIdRequest(e),this.props.getProgramsCategoryRequest()}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.singleContent!==this.props.singleContent&&this.setState((function(t){return{data:e.singleContent&&e.singleContent.toJS()}}),(function(){var e=[];t.state.data&&t.state.data.meta_keywords&&t.state.data.meta_keywords.length>0&&t.state.data.meta_keywords.map((function(t){e.push({text:t,value:t})})),t.setState({metaOptions:e})})),e.programsCategories!==this.props.programsCategories&&e.programsCategories.size>0){var a=e.programsCategories&&e.programsCategories.toJS().map((function(e,t){return{key:e._id,value:e._id,text:e.category_title}}));this.setState({programsCategoriesDropdown:a})}}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.roleModule,r=e.vendor,n=e.errors,o=e.moduleList,i=e.urlAction,s=e.programsCategoriesDropdown,l=this.props,d=(l.successResponse,l.errorResponse),u=l.requesting,f=null;return d&&"string"===typeof d&&(f=T(c.a,{message:d,timeout:5e3,error:!0})),T("div",{},void 0,ee,f&&f,te,ae,t&&T(I,{errors:n,data:t,vendor:r,handleChange:this.handleChange,handleSubmit:this.handleSubmit,isRequesting:u,moduleList:o,roleModule:a,handleEditorChange:this.handleEditorChange,handleActiveChecked:this.handleActiveChecked,urlAction:i,onDrop:this.onDrop,file:this.state.file,handleMetaKeywords:this.handleMetaKeywords,handleKeywordsAddition:this.handleKeywordsAddition,metaOptions:this.state.metaOptions,handleProgramCategory:this.handleProgramCategory,programsCategoriesDropdown:s}))}}])&&W(t.prototype,a),r&&W(t,r),o}(o.a.Component),ne=Object(f.a)({key:"missionVision",reducer:d.a}),oe=Object(u.a)({key:"missionVision",saga:l.a}),ie=Object(i.connect)(Z,(function(e){return{postMissionVisionRequest:function(t,a){return e(Object(g.o)(t,a))},updateMissionVisionRequest:function(t,a,r){return e(Object(g.r)(t,a,r))},loadMissionVisionByIdRequest:function(t){return e(Object(g.i)(t))},getProgramsCategoryRequest:function(){return e(Object(g.f)())},clearMessage:function(){return e(Object(g.a)())}}}));t.default=Object(p.compose)(ne,oe,ie)(re)}}]);