(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{bf7ebc0e873a6bb8ea02:function(e,r,t){"use strict";t.r(r);var n=t("8af190b70a6bc55c6f1b"),o=t.n(n),a=(t("8a2d1b95e05b6a321e74"),t("d7dd51e1bf6bfc2c9c3d")),s=t("a28fc3c963a1d4d1a2e5"),c=t("6b20a4038fb2adfb033d"),u=t("da310028ba2a28510514"),i=t("06e9cdca070dbbe3ec34"),d=t("21cd6da5d0fb0461eee5"),l="APP/Profile/Password/UPDATE_PASSWORD_REQUEST",f="APP/Profile/Password/UPDATE_PASSWORD_SUCCESS",p="APP/Profile/Password/UPDATE_PASSWORD_FAILURE",b="APP/Profile/Password/CLEAR_STATE",y=t("371a6f90cf4b090759be"),w=Object(y.a)(l,"password"),g=Object(y.a)(f,"response"),m=Object(y.a)(p,"error"),O=Object(y.a)(b),h=function(e){return e.get("profilePassword")},v=t("df4d709115ae1aca60ef"),P=t("6c68d13fe9e3e77d8fc4"),j=t("3ad3c1378076e862aab0"),_=(t("384d9479bdc5794993e1"),t("8636a5b0e6ac43ae8b4d")),S=t("6542cd13fd5dd1bcffd4"),R=t("278a8afb137fef007e00");function k(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function A(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?k(Object(t),!0).forEach((function(r){C(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function C(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var E=regeneratorRuntime.mark(N),D=regeneratorRuntime.mark(q),x=regeneratorRuntime.mark(T);function N(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.f)(f);case 2:case"end":return e.stop()}}),E)}function q(e){var r,t,n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(P.e)(Object(S.c)());case 2:return r=o.sent,t=Object(R.a)(),o.next=6,Object(P.c)(N);case 6:return n=o.sent,o.next=9,Object(P.c)(_.a.put("user/security-settings/change-password/".concat(r.get("_id")),g,m,A(A({},e.password),{},{_id:r.get("_id")}),t));case 9:return o.next=11,Object(P.f)([j.LOCATION_CHANGE,p]);case 11:return o.next=13,Object(P.b)(n);case 13:case"end":return o.stop()}}),D)}function T(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.g)(l,q);case 2:case"end":return e.stop()}}),x)}var U=t("54f683fcda7806277002"),L=t("62cade0222f879de1092"),W=Object(U.fromJS)({requesting:!1,success:!1,response:null,error:null});var J,I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case l:return e.merge({requesting:!0,error:null,response:null,success:!1});case f:return e.merge({requesting:!1,response:r.response.message,error:null,success:!0});case p:return e.merge({requesting:!1,response:null,error:r.error.message,success:!1});case b:case L.t:return W;default:return e}},$=t("adc20f99e57c573c589c"),F=t("d95b0cf107403b178365"),G=t("ab4cb61bcb2dc161defb");function H(e){return(H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,r,t,n){J||(J="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(r||0===a||(r={children:void 0}),1===a)r.children=n;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];r.children=s}if(r&&o)for(var u in o)void 0===r[u]&&(r[u]=o[u]);else r||(r=o||{});return{$$typeof:J,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}function z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function B(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?z(Object(t),!0).forEach((function(r){re(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function K(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function M(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,r){return(V=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function X(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=ee(e);if(r){var o=ee(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return Y(this,t)}}function Y(e,r){return!r||"object"!==H(r)&&"function"!==typeof r?Z(e):r}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var te=Object(s.b)({errorResponse:Object(s.a)(h,(function(e){return e.get("error")})),requesting:Object(s.a)(h,(function(e){return e.get("requesting")})),success:Object(s.a)(h,(function(e){return e.get("success")})),successResponse:Object(s.a)(h,(function(e){return e.get("response")}))}),ne=Q("h2",{},void 0,"Change Password"),oe=Q("span",{className:"custom-control-indicator"}),ae=Q("span",{className:"custom-control-description"},void 0,"Also Logout from other devices"),se=function(e){!function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&V(e,r)}(a,e);var r,t,n,o=X(a);function a(){var e;K(this,a);for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return re(Z(e=o.call.apply(o,[this].concat(t))),"state",{data:{log_out_all_devices:!1},errors:{}}),re(Z(e),"handleChange",(function(r){r.persist();var t=e.state.errors;t[r.target.name]&&r.target.value&&delete t[r.target.name],e.setState((function(e){return{data:B(B({},e.data),{},re({},r.target.name,r.target.value)),errors:t}}))})),re(Z(e),"handleChecked",(function(r){r.persist(),e.setState((function(e){return{data:B(B({},e.data),{},re({},r.target.name,!e.data[r.target.name]))}}))})),re(Z(e),"validate",(function(){var r=e.state.data,t={};return r.password||(t.password="Please enter a password"),r.old_password||(t.old_password="Enter old password"),r.retyped_password||(t.retyped_password="Retype new password"),r.password!==r.retyped_password&&(t.retyped_password="New password and retyped password must be same."),t})),re(Z(e),"handleSubmit",(function(r){r.preventDefault();var t=e.validate();e.setState({errors:t}),0===Object.keys(t).length&&e.props.updatePasswordRequest(e.state.data)})),e}return r=a,(t=[{key:"componentWillUnmount",value:function(){this.props.clearState()}},{key:"render",value:function(){var e,r=this.state,t=r.data,n=r.errors,o=this.props,a=o.successResponse,s=o.errorResponse,l=o.requesting;return o.success,a&&"string"===typeof a&&(e=Q(v.a,{message:a,timeout:3e3,success:!0})),s&&"string"===typeof s&&(e=Q(v.a,{message:s,timeout:3e3,error:!0})),Q("div",{className:"segment",style:{marginLeft:"200px"}},void 0,e&&e,Q(c.a,{className:"form",onSubmit:this.handleSubmit},void 0,ne,Q("div",{className:"pos-rel field"},void 0,Q(i.a,{password:t.old_password||"",label:"Old Password",placeholder:"Old Password",onChange:this.handleChange,error:n.old_password,name:"old_password"})),Q("div",{className:"pos-rel field"},void 0,Q(i.a,{password:t.password||"",placeholder:"New Password",onChange:this.handleChange,error:n.password,name:"password"})),Q(d.a,{password:t.password||""}),Q("div",{className:"pos-rel field"},void 0,Q(i.a,{password:t.retyped_password||"",label:"Retype Password",placeholder:"Retype Password",onChange:this.handleChange,error:n.retyped_password,name:"retyped_password"})),Q("div",{className:"field"},void 0,Q("label",{className:"custom-control custom-checkbox"},void 0,Q("input",{className:"custom-control-input",type:"checkbox",name:"log_out_all_devices",onChange:this.handleChecked,checked:t.log_out_all_devices}),oe," ",ae," ")),Q(u.a,{type:"submit",className:"primary button",loading:l,disabled:l},void 0,"Save")))}}])&&M(r.prototype,t),n&&M(r,n),a}(o.a.Component),ce=Object(F.a)({key:"profilePassword",reducer:I}),ue=Object($.a)({key:"profilePassword",saga:T}),ie=Object(a.connect)(te,(function(e){return{updatePasswordRequest:function(r){return e(w(r))},clearState:function(){return e(O())}}}));r.default=Object(G.compose)(ce,ue,ie)(se)}}]);